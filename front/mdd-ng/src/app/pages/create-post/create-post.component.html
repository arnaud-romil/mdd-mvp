<div class="create-post-container">
    <h2>📝 Créer un Article</h2>

    <form [formGroup]="postForm" (ngSubmit)="submitPost()">
        <mat-form-field class="full-width">
            <mat-label>Titre</mat-label>
            <input matInput formControlName="title" />
            <mat-error *ngIf="postForm.controls['title'].invalid && postForm.controls['title'].touched">
                Le titre doit comporter au moins 5 caractères
            </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
            <mat-label>Thème</mat-label>
            <mat-select formControlName="topicId">
                <mat-option *ngFor="let topic of topics" [value]="topic.id">
                    {{ topic.title }}
                </mat-option>
            </mat-select>
        </mat-form-field>

        <mat-form-field class="full-width">
            <mat-label>Contenu</mat-label>
            <textarea matInput formControlName="content" rows="6"></textarea>
            <mat-error *ngIf="postForm.controls['content'].invalid && postForm.controls['content'].touched">
                Le contenu doit comporter au moins 20 caractères
            </mat-error>
        </mat-form-field>

        <button mat-raised-button color="primary" type="submit" [disabled]="postForm.invalid">
            📢 Publier
        </button>
    </form>
</div>